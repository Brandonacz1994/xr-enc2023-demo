(this["webpackJsonpxr-template"]=this["webpackJsonpxr-template"]||[]).push([[0],{32:function(e,t,o){},44:function(e,t,o){},51:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o(34),r=o.n(a),i=(o(44),o(32),o(36)),s=o(3),c=o(4),l=o(6),d=o(0),u=o(10),p=o(35),h=o(37),m=o(5),w=["antialias","engineOptions","adaptToDeviceRatio","sceneOptions","onSceneReady"],g=function(e){var t=e.antialias,o=e.engineOptions,a=e.adaptToDeviceRatio,r=e.sceneOptions,i=e.onSceneReady,s=Object(h.a)(e,w),c=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e=c.current;if(e){var n=new d.Engine(e,t,o,a),s=new d.Scene(n,r);s.isReady()?i({canvas:e,scene:s,engine:n}):(console.log("onSceneReady is not avaliable"),console.error("onSceneReady is not avaliable"),s.onReadyObservable.addOnce((function(t){return i({canvas:e,scene:t,engine:n})}))),n.runRenderLoop((function(){s.render()}));var l=function(){s.getEngine().resize()};return window&&window.addEventListener("resize",l),function(){s.getEngine().dispose(),window&&window.removeEventListener("resize",l)}}}),[t,o,a,r,i]),Object(m.jsx)("canvas",Object(p.a)({className:"SceneComponent",ref:c},s))};function b(e,t){var o=new d.FreeCamera("camera1",new d.Vector3(0,5,-10),t);return o.setTarget(new d.Vector3(0,1,0)),o.attachControl(e,!1),o}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{diffuseColor:"",specularColor:"",groundColor:""},t=arguments.length>1?arguments[1]:void 0;e.diffuseColor=void 0!==e.diffuseColor?e.diffuseColor:"#f0f8ff",e.specularColor=void 0!==e.specularColor?e.specularColor:"#237597",e.groundColor=void 0!==e.groundColor?e.groundColor:"#010101";var o=new d.HemisphericLight("hemiLight",new d.Vector3(0,1,1),t);return o.intensity=.8,o.diffuse=new d.Color3.FromHexString(e.diffuseColor),o.specular=new d.Color3.FromHexString(e.specularColor),o.groundColor=new d.Color3.FromHexString(e.groundColor),o}function f(e){var t=new d.StandardMaterial("material_random",e);return t.diffuseColor=d.Color3.Random(),t}function x(e,t){var o=function(e,o,n){var a=new d.DynamicTexture("DynamicTexture",50,t,!0);a.hasAlpha=!0,a.drawText(e,5,40,"bold 36px Arial",o,"transparent",!0);var r=new d.Mesh.CreatePlane("TextPlane",n,t,!0);return r.material=new d.StandardMaterial("TextPlaneMaterial",t),r.material.backFaceCulling=!1,r.material.specularColor=new d.Color3(0,0,0),r.material.diffuseTexture=a,r},n=.02,a=d.Mesh.CreateLines("axisX",[new d.Vector3.Zero,new d.Vector3(e,0,0),new d.Vector3(.95*e,0,.05*e),new d.Vector3(e,0,0),new d.Vector3(.95*e,0,-.05*e)],t);a.color=new d.Color3(1,0,0),o("X","red",e/10).position=new d.Vector3(.9*e,.05*e,0);var r=d.Mesh.CreateLines("axisY",[new d.Vector3.Zero,new d.Vector3(0,e,0),new d.Vector3(-.05*e,.95*e,0),new d.Vector3(0,e,0),new d.Vector3(.05*e,.95*e,0)],t);r.color=new d.Color3(0,1,0),o("Y","green",e/10).position=new d.Vector3(0,.9*e,-.05*e);var i=d.Mesh.CreateLines("axisZ",[new d.Vector3.Zero,new d.Vector3(0,0,e),new d.Vector3(-.05*e,0,.95*e),new d.Vector3(0,0,e),new d.Vector3(.05*e,0,.95*e)],t);i.color=new d.Color3(0,0,1),o("Z","blue",e/10).position=new d.Vector3(0,.05*e,.9*e),a.position.addInPlaceFromFloats(0,n,0),r.position.addInPlaceFromFloats(0,n,0),i.position.addInPlaceFromFloats(0,n,0)}function C(e,t){var o=d.Mesh.CreateLines("pilot_local_axisX",[new d.Vector3.Zero,new d.Vector3(e,0,0),new d.Vector3(.95*e,.05*e,0),new d.Vector3(e,0,0),new d.Vector3(.95*e,-.05*e,0)],t);o.color=new d.Color3(1,0,0);var n=d.Mesh.CreateLines("pilot_local_axisY",[new d.Vector3.Zero,new d.Vector3(0,e,0),new d.Vector3(-.05*e,.95*e,0),new d.Vector3(0,e,0),new d.Vector3(.05*e,.95*e,0)],t);n.color=new d.Color3(0,1,0);var a=d.Mesh.CreateLines("pilot_local_axisZ",[new d.Vector3.Zero,new d.Vector3(0,0,e),new d.Vector3(0,-.05*e,.95*e),new d.Vector3(0,0,e),new d.Vector3(0,.05*e,.95*e)],t);a.color=new d.Color3(0,0,1);var r=d.MeshBuilder.CreateBox("local_origin",{size:1},t);return r.isVisible=!1,o.parent=r,n.parent=r,a.parent=r,r}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.playground_width,o=void 0===t?50:t,n=e.playground_depth,a=void 0===n?50:n,r=e.walls_width,i=void 0===r?5:r,s=e.walls_height,c=void 0===s?10:s,l=arguments.length>1?arguments[1]:void 0,p=d.MeshBuilder.CreateGround("ground",{width:o,height:a,subdivisionsX:50,subdivisionsY:50},l),h=d.MeshBuilder.CreateBox("wallF",{width:o,height:c,depth:i},l);h.position.set(0,c/2,a/2+i/2);var m=d.MeshBuilder.CreateBox("wallB",{width:o,height:c,depth:i},l);m.position.set(0,c/2,-a/2-i/2);var w=d.MeshBuilder.CreateBox("wallL",{width:i,height:c,depth:a},l);w.position.set(-o/2-i/2,c/2,0);var g=d.MeshBuilder.CreateBox("wallR",{width:i,height:c,depth:a},l);g.position.set(o/2+i/2,c/2,0),h.visibility=.2,m.visibility=.2,w.visibility=.2,g.visibility=.2,p.checkCollisions=!0,h.checkCollisions=!0,m.checkCollisions=!0,w.checkCollisions=!0,g.checkCollisions=!0,p.addChild(h),p.addChild(m),p.addChild(w),p.addChild(g),p.position=new d.Vector3(0,0,0);var b=p.clone("gridground");b.position.y=p.position.y+.001;var v=new u.GridMaterial("groundmaterial",l);return v.majorUnitFrequency=5,v.minorUnitVisibility=.45,v.gridRatio=1,v.backFaceCulling=!1,v.mainColor=new d.Color3(0,0,1),v.lineColor=new d.Color3(1,0,0),v.opacity=.98,b.material=v,{ground:p,wallF:h,wallB:m,wallL:w,wallR:g}}var y=o(9);function B(e,t,o,n){return I.apply(this,arguments)}function I(){return(I=Object(l.a)(Object(c.a)().mark((function e(t,o,n,a){var r,i,s,l,u;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="inline",i="local-floor",e.next=4,d.WebXRSessionManager.IsSessionSupportedAsync("immersive-vr");case 4:return s=e.sent,e.next=7,d.WebXRSessionManager.IsSessionSupportedAsync("immersive-ar");case 7:return l=e.sent,console.log("AR mode avaliable: "+l),console.log("VR mode avaliable: "+s),s&&(r="immersive-vr",l&&(r="immersive-ar")),u=a.createDefaultXRExperienceAsync({disableDefaultUI:!0,disableNearInteraction:!0,disablePointerSelection:!1,disableTeleportation:!0,optionalFeatures:!0,floorMeshes:[t],uiOptions:{sessionMode:r,referenceSpaceType:i},inputOptions:{doNotLoadControllerMeshes:!1}}),e.abrupt("return",u.then((function(e){var c=y.AdvancedDynamicTexture.CreateFullscreenUI("UI",!0,a);R(e,n),e.input.xrCamera.setTransformationFromNonVRCamera(a.activeCamera,!0),e.baseExperience.camera.setTransformationFromNonVRCamera(a.activeCamera,!0),e.baseExperience.onStateChangedObservable.add((function(e){if(s)switch(e){case d.WebXRState.IN_XR:case d.WebXRState.ENTERING_XR:case d.WebXRState.EXITING_XR:case d.WebXRState.NOT_IN_XR:}if(l)switch(e){case d.WebXRState.IN_XR:break;case d.WebXRState.ENTERING_XR:t&&n.length>1&&(t.visibility=0),o&&(o.isVisible=!1);break;case d.WebXRState.EXITING_XR:break;case d.WebXRState.NOT_IN_XR:t&&(t.visibility=1),o&&(o.isVisible=!0)}})),(p=y.Button.CreateSimpleButton("but1","A modo XR")).width="150px",p.height="40px",p.color="white",p.cornerRadius=20,p.background="green",p.fontSize="20px",p.horizontalAlignment=y.Control.HORIZONTAL_ALIGNMENT_RIGHT,p.verticalAlignment=y.Control.VERTICAL_ALIGNMENT_BOTTOM,p.topInPixels=-5,p.leftInPixels=-5,p.onPointerUpObservable.add((function(){e.baseExperience.state===d.WebXRState.NOT_IN_XR?e.baseExperience.enterXRAsync(r,i):e.baseExperience.state===d.WebXRState.IN_XR&&e.baseExperience.exitXRAsync()})),c.addControl(p);var u=d.MeshBuilder.CreatePlane("plane",{width:.2*1.8,height:.2,sideOrientation:d.Mesh.DOUBLESIDE},a);u.billboardMode=d.Mesh.BILLBOARDMODE_ALL;var p,h=y.AdvancedDynamicTexture.CreateForMesh(u),m=new y.Rectangle("container");return m.width=1,m.height=1,m.thickness=0,m.background="white",m.alpha=.05,m.zIndex=-1,h.addControl(m),h.scaleTo(300,150),(p=y.Button.CreateSimpleButton("but1","Salir modo XR")).color="white",p.fontSize=28,p.background="green",p.onPointerUpObservable.add((function(){e.baseExperience.state===d.WebXRState.NOT_IN_XR?e.baseExperience.enterXRAsync(r,i):e.baseExperience.state===d.WebXRState.IN_XR&&e.baseExperience.exitXRAsync()})),h.addControl(p),u.position.addInPlaceFromFloats(0,2,0),console.log("Se ha cargado funciones XR satisfactoriamente."),e})));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e,t){var o=e.baseExperience.featuresManager.enableFeature(d.WebXRFeatureName.LIGHT_ESTIMATION,"latest",{setSceneEnvironmentTexture:!0,createDirectionalLightSource:!0}),n=new d.ShadowGenerator(512,o.directionalLight);n.useBlurExponentialShadowMap=!0,n.blurScale=2,n.setDarkness(.1),t.forEach((function(e){n.getShadowMap().renderList.push(e)}))}function S(e){var t=null,o=0,n=!1,a=new d.GizmoManager(e,1);a.scaleGizmoEnabled=!1,a.positionGizmoEnabled=!1,a.rotationGizmoEnabled=!1,a.boundingBoxGizmoEnabled=!0,a.gizmos.boundingBoxGizmo.fixedDragMeshBoundsSize=!0,a.gizmos.boundingBoxGizmo.ignoreChildren=!0,a.usePointerToAttachGizmos=!1,a.clearGizmoOnEmptyPointerEvent=!0,e.onPointerObservable.add((function(e){switch(e.type){case d.PointerEventTypes.POINTERDOWN:!n&&e.pickInfo.pickedMesh&&e.pickInfo.pickedMesh.XRpickable&&(n=!0,t=e.pickInfo.pickedMesh,a.attachToMesh(t),t.physicsImpostor&&(o=t.physicsImpostor.mass,t.physicsImpostor.setMass(0))),n||!e.pickInfo.pickedMesh||e.pickInfo.pickedMesh.XRpickable||(t=null,a.attachToMesh(null));break;case d.PointerEventTypes.POINTERUP:n&&t&&(n=!1,t.physicsImpostor&&t.physicsImpostor.setMass(o))}})),e.onKeyboardObservable.add((function(e){if(e.type===d.KeyboardEventTypes.KEYDOWN)switch(e.event.key){case"1":a.scaleGizmoEnabled=!a.scaleGizmoEnabled,a.positionGizmoEnabled=!1,a.rotationGizmoEnabled=!1,a.boundingBoxGizmoEnabled=!1;break;case"2":a.positionGizmoEnabled=!a.positionGizmoEnabled,a.scaleGizmoEnabled=!1,a.rotationGizmoEnabled=!1,a.boundingBoxGizmoEnabled=!1;break;case"3":a.rotationGizmoEnabled=!a.rotationGizmoEnabled,a.scaleGizmoEnabled=!1,a.positionGizmoEnabled=!1,a.boundingBoxGizmoEnabled=!1;break;case"4":a.boundingBoxGizmoEnabled=!a.boundingBoxGizmoEnabled,a.scaleGizmoEnabled=!1,a.positionGizmoEnabled=!1,a.rotationGizmoEnabled=!1}}))}var T=o(18),P=o.n(T),E=function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,o,n,a,r,i,s,l,p,h,m,w,g,y=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t,o){var n=new d.ReflectionProbe("ref",512,o);t.forEach((function(e){n.renderList.push(e)}));var a=new d.PBRMaterial("pbr",o);a.reflectionTexture=n.cubeTexture,e.material=a,n.attachToMesh(e)},t=y.length>0&&void 0!==y[0]?y[0]:{engine:new d.Engine,scene:new d.Scene,canvas:new HTMLCanvasElement},o=t.canvas,n=t.scene,t.engine,b(o,n),v(n),(a=new u.SkyMaterial("skyMaterial",n)).backFaceCulling=!1,(r=d.Mesh.CreateBox("skyBox",1e3,n)).material=a,r.material.inclination=-.35,i=M(),e.t0=n,e.t1=new d.Vector3(0,-9.81,0),e.t2=d.AmmoJSPlugin,e.next=16,P()();case 16:e.t3=e.sent,e.t4=new e.t2(!0,e.t3),e.t0.enablePhysics.call(e.t0,e.t1,e.t4),s=new d.PhysicsImpostor(i.ground,d.PhysicsImpostor.BoxImpostor,{mass:0,restitution:.9},n),i.ground.physicsImpostor=s,(l=d.MeshBuilder.CreateSphere("sphere",{diameter:3},n)).position.y=4,p=new d.PhysicsImpostor(l,d.PhysicsImpostor.SphereImpostor,{mass:1,restitution:.9},n),l.physicsImpostor=p,h=f(),(m=d.MeshBuilder.CreateBox("box",{size:2},n)).material=h,m.position=new d.Vector3(1,1,1),w=new d.PhysicsImpostor(m,d.PhysicsImpostor.BoxImpostor,{mass:1,restitution:.9},n),m.physicsImpostor=w,x(10,n),C(3,n).parent=m,n.onBeforeRenderObservable.add((function(){if(void 0!==m){var e=n.getEngine().getDeltaTime();m.rotate(d.Axis.Y,.5*Math.PI*2*(e/1e3),n)}})),(g=[]).push(m,l),B(i.ground,r,g,n),S(n),m.XRpickable=!0,l.XRpickable=!0,[].push(m,l,r);case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var O=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:E,id:"SceneCanvas"})},V=function(e){var t=e.canvas,o=e.scene,n=(e.engine,new d.FreeCamera("camera1",new d.Vector3(0,5,-10),o));n.setTarget(d.Vector3.Zero()),n.attachControl(t,!1),new d.HemisphericLight("light",new d.Vector3(0,1,0),o).intensity=.7;new d.AxesViewer(o,2);var a=d.MeshBuilder.CreateBox("box",{size:2},o),r=d.MeshBuilder.CreateSphere("sphere",{diameterX:2,diameterY:2,diameterZ:2},o),i=d.MeshBuilder.CreateCylinder("cone",{height:2,diameterTop:0,diameterBottom:2,tessellation:4},o),s=d.MeshBuilder.CreatePlane("plane",{width:5,height:2},o),c=d.MeshBuilder.CreateTorus("torus",{thickness:.2,diameter:2},o);d.MeshBuilder.CreateGround("ground",{width:100,height:100,subdivisions:100},o);a.position.x=0,a.position.y=1,a.position.z=0,r.setAbsolutePosition(new d.Vector3(-3,1,0));var l=r.position.addInPlace(new d.Vector3(0,0,0));console.log(l),i.setAbsolutePosition(new d.Vector3(3,1,0)),s.setAbsolutePosition(new d.Vector3(0,3,2)),c.setAbsolutePosition(new d.Vector3(-6,1,0)),o.onBeforeRenderObservable.add((function(){if(void 0!==a){var e=o.getEngine().getDeltaTime();a.rotation.y+=.5*Math.PI*2*(e/1e3)}}))};var k=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:V,id:"SceneCanvas"})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{engine:new d.Engine,scene:new d.Scene,canvas:new HTMLCanvasElement},t=e.canvas,o=e.scene,n=e.engine,a=new d.ArcRotateCamera("camera1",0,0,0,new d.Vector3(2,3,4),o);a.setPosition(new d.Vector3(10,3,-10)),a.attachControl(t,!1),new d.HemisphericLight("light",new d.Vector3(0,1,0),o).intensity=.7;var r=d.MeshBuilder.CreateCylinder("body",{height:.75,diameterTop:.2,diameterBottom:.5,tessellation:6,subdivisions:1},o),i=d.MeshBuilder.CreateBox("arm",{height:.75,width:.3,depth:.1875},o);i.position.x=.125;var s=d.Mesh.MergeMeshes([r,i],!0);x(8,o),C(2,o).parent=s,s.position=new d.Vector3(2,3,4),s.rotation.x=v(0),s.rotation.y=v(0),s.rotation.z=v(0);var c=[];c[0]=d.Color3.Blue(),c[1]=d.Color3.Red(),c[2]=d.Color3.Green(),c[3]=d.Color3.White(),c[4]=d.Color3.Yellow(),c[5]=d.Color3.Black();var l={width:.7,height:.7,depth:.7,faceColors:c},u=d.Mesh.CreateBox("Box1",1,o),p=d.Mesh.CreateBox("Box2",1,o),h=d.MeshBuilder.CreateBox("mainbox",l,o,!0),m=d.Mesh.CreateBox("Box4",1,o),w=d.Mesh.CreateBox("Box5",1,o),g=d.Mesh.CreateBox("Box6",1,o),b=d.Mesh.CreateBox("Box7",1,o);function v(e){return e*(Math.PI/180)}C(2,o).parent=h,u.position.x=-4,p.position.x=-2,h.position.x=0,m.position.x=2,w.position.x=4,g.position.x=6,u.rotation.x=Math.PI/3,p.rotation.y=Math.PI/3,m.scaling.x=2,w.scaling.y=2,g.scaling.z=2,b.parent=u,b.position.z=-2,console.log("hola mundo"),console.log(b);var f,M=Math.PI/128,y=0,B=0,I=0,R=0;o.onBeforeRenderObservable.add((function(){128==I&&(I=0,f=B,B=y,y=M,M=f),h.addRotation(M,y,B),I++,R+=.005;Math.cos(R),Math.abs(Math.cos(R))})),n.runRenderLoop((function(){o&&o.render()}))};var L=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:j,id:"SceneCanvas"})},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{engine:new d.Engine,scene:new d.Scene,canvas:new HTMLCanvasElement},t=e.canvas,o=e.scene,n=e.engine,a=new d.FreeCamera("camera1",new d.Vector3(0,5,-10),o);a.setTarget(d.Vector3.Zero()),a.attachControl(t,!1),new d.HemisphericLight("light",new d.Vector3(0,1,0),o).intensity=.7;var r=new d.MeshBuilder.CreateGround("ground",{width:100,height:100},o),i=new u.GridMaterial("groundmaterial",o);i.majorUnitFrequency=5,i.minorUnitVisibility=.45,i.gridRatio=1,i.backFaceCulling=!1,i.mainColor=new d.Color3(1,1,1),i.lineColor=new d.Color3(1,1,1),i.opacity=.9,r.material=i;var s=d.MeshBuilder.CreateCylinder("body",{height:.75,diameterTop:.2,diameterBottom:.5,tessellation:6,subdivisions:1},o),c=d.MeshBuilder.CreateBox("arm",{height:.75,width:.3,depth:.1875},o);c.position.x=.125;var l=d.Mesh.MergeMeshes([s,c],!0),p=l.createInstance("pilot local");x(8,o),C(2,o).parent=l,l.rotation.y=b(120),C(2,o).parent=p,p.rotation.y=b(120);var h=new d.Vector3(0,0,4);h.normalize();var m=0;o.onBeforeRenderObservable.add((function(){o.getEngine().getDeltaTime();var e=o.getEngine().getDeltaTime()/1e3;(m+=1*e)<=10&&l.translate(h,1*e,d.Space.WORLD),m<=10&&p.translate(h,1*e,d.Space.LOCAL)})),(S=[])[0]=d.Color3.Blue(),S[1]=d.Color3.Red(),S[2]=d.Color3.Green(),S[3]=d.Color3.White(),S[4]=d.Color3.Yellow(),S[5]=d.Color3.Black();var w={width:.7,height:.7,depth:.7,faceColors:S},g=d.MeshBuilder.CreateBox("mainbox",w,o,!0);function b(e){return e*(Math.PI/180)}C(2,o).parent=g;var v,f=Math.PI/128,M=0,y=0,B=0,I=0;o.onBeforeRenderObservable.add((function(){128==B&&(B=0,v=y,y=M,M=f,f=v),g.addRotation(f,M,y),B++,I+=.005;Math.cos(I),Math.abs(Math.cos(I))}));var R=d.MeshBuilder.CreateSphere("Sphere",{diameter:.1},o,!0);R.material=new d.StandardMaterial("mat",o),R.material.diffuseColor=new d.Color3(1,0,1);var S,T=C(2,o),P=C(2,o),E=C(1,o),O=new d.TransformNode("root",o),V=new d.TransformNode("secondary",o),k=new d.TransformNode("tertiary");R.parent=O,T.parent=O,O.rotation.y=Math.PI/4,O.position=new d.Vector3(5,0,5),P.parent=V,V.parent=O,V.position.z=4,E.parent=k,k.parent=V,k.position.z=2,(S=[])[0]=d.Color3.Blue(),S[1]=d.Color3.Red(),S[2]=d.Color3.Green(),S[3]=d.Color3.White(),S[4]=d.Color3.Yellow(),S[5]=d.Color3.Black();w={faceColors:S};var j=d.MeshBuilder.CreateBox("Box",w,o,!0),L=d.MeshBuilder.CreateBox("minibox",w,o);L.scaling=new d.Vector3(.3,.3,.3);var A=0,z=0,X=0,_=0,G=0,F=b(15),N=b(30),D=b(0),U=b(360),W=b(180);j.visibility=.3,o.onBeforeRenderObservable.add((function(){var e=o.getEngine().getDeltaTime()/1e3;O.rotation.y=A,V.rotation.y=z,k.rotation.y=X,j.position=V.absolutePosition,j.rotation.y=_,L.position=k.absolutePosition,L.rotation.y=G,A+=F*e,z+=N*e,X+=D*e,_+=U*e,G+=W*e}));var H=d.MeshBuilder.CreateBox("box_follower1",w,o,!0);H.scaling=new d.Vector3(.5,.5,.5);for(var Z=H.clone("box_follower2"),Y=[],J=0;J<500;J++)Y.push(new d.Vector3(0+10*Math.cos(J*Math.PI*2/500),0,10*Math.sin(J*Math.PI*2/500)));Y.push(Y[0]);var K=d.MeshBuilder.CreateLines("circle",{points:Y},o);H.parent=K;I=2.5;for(var q=[],Q=Math.PI/400,$=0;$<2*Math.PI;$+=Q)q.push(new d.Vector3(5*Math.sin($),0,I*Math.cos($)));var ee=d.MeshBuilder.CreateLines("ellipse",{points:q},o);ee.color=d.Color3.Red(),Z.parent=ee,ee.position=new d.Vector3(15,3,10);var te=0,oe=0,ne=0,ae=b(180);o.onBeforeRenderObservable.add((function(){var e=o.getEngine().getDeltaTime()/1e3;H.position.x=Y[te].x,H.position.z=Y[te].z,te=(te+1)%(Y.length-1),Z.position.x=q[oe].x,Z.position.z=q[oe].z,oe=(oe+1)%(q.length-1),H.rotation.y=ne,Z.rotation.y=ne,ne+=ae*e})),n.runRenderLoop((function(){o&&o.render()}))};var z=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:A,id:"SceneCanvas"})};o(30);function X(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loop:!1,autoPlay:!1,autoUpdateTexture:!0,muted:!1,poster:""},n=arguments.length>3?arguments[3]:void 0;o.loop=void 0!==o.loop&&o.loop,o.autoPlay=void 0!==o.autoPlay&&o.autoPlay,o.autoUpdateTexture=void 0===o.autoUpdateTexture||o.autoUpdateTexture,o.muted=void 0!==o.muted&&o.muted,o.poster=void 0!==o.poster?o.poster:"";var a=new d.VideoTexture("videoTexture",e,n,!0,!1,d.VideoTexture.TRILINEAR_SAMPLINGMODE,o),r=new d.StandardMaterial("videoMat",n);r.diffuseTexture=a,r.emissiveColor=new d.Color3(1,1,1),t.material=r}function _(e,t,o,n,a,r){o=void 0!==o?o:{loop:!1,autoPlay:!1,autoUpdateTexture:!0,muted:!0,poster:""},n=void 0!==n?n:{loop:!1,autoPlay:!1,spatialSound:!0,distanceModel:"exponential",maxDistance:10,refDistance:5,rolloffFactor:.8},a=void 0!==a?a:{height:1,width:1.77,sideOrientation:d.Mesh.DOUBLESIDE};var i=new d.VideoTexture("videoTexture",e,r,!0,!1,d.VideoTexture.TRILINEAR_SAMPLINGMODE,o),s=d.MeshBuilder.CreatePlane("videoPlane",a,r),c=new d.Vector3(0,2,.1);s.position=c,s.XRpickable=!0,void 0==t&&(t=i.video,i.video.muted=!1);var l=new d.Sound("testSound",t,r,(function(){console.log("ready to play video sound")}),n);l.attachToMesh(s);var u=new d.StandardMaterial("videoMat",r);u.diffuseTexture=i,u.emissiveColor=new d.Color3(1,1,1),s.material=u;var p=!1;return s.actionManager=new d.ActionManager(r),s.actionManager.registerAction(new d.ExecuteCodeAction(d.ActionManager.OnPickTrigger,(function(){0==p&&l.isReady()?(p=!0,i.video.play().then((function(){l.play()}))):(i.video.pause(),l.pause(),p=!1)}))),s.actionManager.registerAction(new d.ExecuteCodeAction(d.ActionManager.OnDoublePickTrigger,(function(){i.video.currentTime=0,i.video.pause(),l.stop()}))),{videoTexture:i,videoSound:l,videoPlane:s,videoMaterial:u}}var G=o.p+"static/media/bus.6cd90756.gltf",F=o.p+"static/media/SheenChair.cccef135.glb",N=(o.p,o.p+"static/media/videoTextureSample.0d856e14.mp4"),D=o.p+"static/media/rickroll.c7c91519.mp4",U=o.p+"static/media/software-interface-start.5b9ecb19.wav",W=o.p+"static/media/software-interface-back.d5d8ec22.wav",H=o.p+"static/media/Idle-bus.9d5a7e67.wav",Z=o.p+"static/media/door-bus.eaf06fe9.wav",Y=function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,o,n,a,r,i,s,l,p,h,m,w,g,b,v,f,C,y,I,R=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b=function(e){var t=d.MeshBuilder.CreateBox(e.name+"_collider",{height:1,width:1,depth:1},n);t.XRpickable=!0;var o=e.getHierarchyBoundingVectors(),a=o.max.subtract(o.min),r=o.max.add(o.min).scale(.5);return t.scaling.copyFrom(a),t.visibility=0,t.physicsImpostor=new d.PhysicsImpostor(t,d.PhysicsImpostor.BoxImpostor,{mass:99},n),t.position=r,e.setParent(t),t},g=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{loop:!1,autoPlay:!1,spatialSound:!0,distanceModel:"exponential",maxDistance:10,refDistance:5,rolloffFactor:.8},n=arguments.length>3?arguments[3]:void 0,a=new d.Sound(e.name+"_sound",t,n,(function(){console.log("ready to play video sound: "+t),a.play()}),o);return a.attachToMesh(e),a},function(e,t,o){var n=new d.ReflectionProbe("ref",512,o);t.forEach((function(e){n.renderList.push(e)}));var a=new d.PBRMaterial("pbr",o);a.reflectionTexture=n.cubeTexture,e.material=a,n.attachToMesh(e)},t=R.length>0&&void 0!==R[0]?R[0]:{engine:new d.Engine,scene:new d.Scene,canvas:new HTMLCanvasElement},o=t.canvas,n=t.scene,a=t.engine,(r=new d.FreeCamera("camera1",new d.Vector3(0,5,-10),n)).setTarget(d.Vector3.Zero()),r.attachControl(o,!1),e.t0=n,e.t1=new d.Vector3(0,-9.81,0),e.t2=d.AmmoJSPlugin,e.next=13,P()();case 13:return e.t3=e.sent,e.t4=new e.t2(!0,e.t3),e.t0.enablePhysics.call(e.t0,e.t1,e.t4),new d.HemisphericLight("light",new d.Vector3(0,1,0),n).intensity=.7,(i=new u.SkyMaterial("skyMaterial",n)).backFaceCulling=!1,(s=d.Mesh.CreateBox("skyBox",1e3,n)).material=i,s.material.inclination=-.35,x(8,n),S(n),(l=d.MeshBuilder.CreateBox("box",{size:.5},n)).position.set(2,5,3),l.physicsImpostor=new d.PhysicsImpostor(l,d.PhysicsImpostor.BoxImpostor,{restitution:.1,mass:13},n),(p=d.MeshBuilder.CreateSphere("sphere",{diameter:.5},n)).position.set(-2,5,3),p.physicsImpostor=new d.PhysicsImpostor(p,d.PhysicsImpostor.SphereImpostor,{restitution:.9,mass:14},n),(h=M({playground_width:100,playground_depth:100},n)).ground.physicsImpostor=new d.PhysicsImpostor(h.ground,d.PhysicsImpostor.BoxImpostor,{restitution:.9,mass:0},n),l.XRpickable=!0,p.XRpickable=!0,[].push(l,p,s),e.next=39,d.SceneLoader.ImportMeshAsync("",F,"",n,(function(e){}));case 39:e.sent.meshes[0].position=new d.Vector3(0,0,-1),m=new d.AssetsManager(n),(w=m.addMeshTask("task","",G)).onSuccess=function(e){e.loadedMeshes[0].position=new d.Vector3(4,2,3),e.loadedMeshes[0].scaling=new d.Vector3(.5,.5,.5);var t=b(e.loadedMeshes[0]),o=(g(t,H,{loop:!0,autoPlay:!0,spatialSound:!0,distanceModel:"exponential",maxDistance:10,refDistance:5,rolloffFactor:.8},n),new d.Sound("door",Z,n));t.actionManager=new d.ActionManager(n),t.actionManager.registerAction(new d.PlaySoundAction(d.ActionManager.OnPickUpTrigger,o))},w.onError=function(e,t,o){console.log(t,o)},m.load(),1,v={loop:!1,autoPlay:!1,autoUpdateTexture:!0,muted:!0,poster:""},f={loop:!1,autoPlay:!1,spatialSound:!0,distanceModel:"exponential",maxDistance:10,refDistance:5,rolloffFactor:.8},C={height:1,width:1.77,sideOrientation:d.Mesh.DOUBLESIDE},_(D,null,v,f,C,n),(y=d.MeshBuilder.CreateBox("videocube",{size:2},n)).position=new d.Vector3(0,1,4),y.physicsImpostor=new d.PhysicsImpostor(y,d.PhysicsImpostor.BoxImpostor,{restitution:.9,mass:1},n),y.XRpickable=!0,y.actionManager=new d.ActionManager(n),y.actionManager.registerAction(new d.PlaySoundAction(d.ActionManager.OnPickUpTrigger,new d.Sound("up",W,n))),y.actionManager.registerAction(new d.PlaySoundAction(d.ActionManager.OnPickDownTrigger,new d.Sound("down",U,n))),X(N,y,{loop:!0,autoPlay:!0,muted:!0},n),I=[l,p],B(h.ground,s,I,n),a.runRenderLoop((function(){n&&n.render()}));case 62:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var J=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:Y})},K=function(){var e=Object(l.a)(Object(c.a)().mark((function e(){var t,o,n,a,r,i,s,l,p,h,m,w,g,b,v,f=arguments;return Object(c.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return function(e,t,o){var n=new d.ReflectionProbe("ref",512,o);t.forEach((function(e){n.renderList.push(e)}));var a=new d.PBRMaterial("pbr",o);a.reflectionTexture=n.cubeTexture,e.material=a,n.attachToMesh(e)},t=f.length>0&&void 0!==f[0]?f[0]:{engine:new d.Engine,scene:new d.Scene,canvas:new HTMLCanvasElement},o=t.canvas,n=t.scene,a=t.engine,(r=new d.FreeCamera("camera1",new d.Vector3(0,5,-10),n)).setTarget(d.Vector3.Zero()),r.attachControl(o,!1),e.t0=n,e.t1=new d.Vector3(0,-9.81,0),e.t2=d.AmmoJSPlugin,e.next=11,P()();case 11:e.t3=e.sent,e.t4=new e.t2(!0,e.t3),e.t0.enablePhysics.call(e.t0,e.t1,e.t4),(i=new u.SkyMaterial("skyMaterial",n)).backFaceCulling=!1,(s=d.Mesh.CreateBox("skyBox",1e3,n)).material=i,s.material.inclination=-.35,x(8,n),S(n),(l=d.MeshBuilder.CreateBox("box",{size:.2},n)).position.y=5,l.physicsImpostor=new d.PhysicsImpostor(l,d.PhysicsImpostor.BoxImpostor,{restitution:.1,mass:13},n),(p=d.MeshBuilder.CreateSphere("sphere",{diameter:.4},n)).position.set(0,5,3),p.physicsImpostor=new d.PhysicsImpostor(p,d.PhysicsImpostor.SphereImpostor,{restitution:.9,mass:14},n),l.XRpickable=!0,p.XRpickable=!0,(h=M({playground_width:100,playground_depth:100},n)).ground.physicsImpostor=new d.PhysicsImpostor(h.ground,d.PhysicsImpostor.BoxImpostor,{restitution:.9,mass:0},n),new d.StandardMaterial("ground_base_color",n).diffuseColor=new d.Color3(1,1,1),m=new u.ShadowOnlyMaterial("shadowOnly",n),h.ground.material=m,h.ground.receiveShadows=!0,new d.HemisphericLight("light",new d.Vector3(0,1,0),n),w=d.MeshBuilder.CreateSphere("sphere",{diameter:.2,segments:32},n),g=d.MeshBuilder.CreateSphere("sphere",{diameter:.2,segments:32},n),b=d.MeshBuilder.CreateSphere("sphere",{diameter:.2,segments:32},n),w.material=new d.PBRMaterial("metal",n),w.material.roughness=.25,w.material.metallic=1,w.material.realTimeFiltering=!0,w.material.realTimeFilteringQuality=d.Constants.TEXTURE_FILTERING_QUALITY_HIGH,w.position.y=.1,g.setPivotMatrix(d.Matrix.Translation(.2,.1,0),!1),g.material=new d.PBRMaterial("metal",n),g.material.albedoColor=new d.Color3(.8,0,.3),g.material.roughness=.1,g.material.metallic=0,b.setPivotMatrix(d.Matrix.Translation(.4,.1,0),!1),b.material=new d.PBRMaterial("metal",n),b.material.roughness=.1,b.material.metallic=.3,b.material.albedoColor=new d.Color3(.3,0,.8),n.registerBeforeRender((function(){g.rotation.y+=.01,b.rotation.y+=.01})),[].push(l,p,s),(v=[]).push(l,p,w,g,b),B(h.ground,s,v,n),a.runRenderLoop((function(){n&&n.render()}));case 63:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var q=function(){return Object(m.jsx)(g,{antialias:!0,onSceneReady:K})};var Q=function(){return Object(m.jsx)(i.a,{children:Object(m.jsxs)(s.c,{children:[Object(m.jsx)(s.a,{exact:!0,path:"/",element:Object(m.jsx)(O,{})}),Object(m.jsx)(s.a,{path:"/tema_1",element:Object(m.jsx)(k,{})}),Object(m.jsx)(s.a,{path:"/tema_2",element:Object(m.jsx)(L,{})}),Object(m.jsx)(s.a,{path:"/tema_3",element:Object(m.jsx)(z,{})}),Object(m.jsx)(s.a,{path:"/tema_4",element:Object(m.jsx)(J,{})}),Object(m.jsx)(s.a,{path:"/tema_5",element:Object(m.jsx)(q,{})})]})})},$=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,52)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;o(e),n(e),a(e),r(e),i(e)}))};r.a.createRoot(document.getElementById("root")).render(Object(m.jsx)(Q,{})),$()}},[[51,1,2]]]);
//# sourceMappingURL=main.5bd1bf84.chunk.js.map